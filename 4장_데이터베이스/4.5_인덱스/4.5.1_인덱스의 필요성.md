# 4.5.1 인덱스의 필요성

## 1.  인덱스(index)

### 1.1 인덱스의 의미
- 지정한 컬럼들을 기준으로 메모리 영역에 일종의 목차를 생성하는 것
- 데이터베이스의 테이블에 대한 검색 속도를 향상시켜주는 자료구조

### 1.2 인덱스의 역할
- 테이블의 특정 컬럼(Column)에 인덱스를 생성하면, 해당 컬럼의 데이터를 정렬한 후 별도의 메모리 공간에 데이터의 물리적 주소와 함께 저장
- 컬럼의 값과 물리적 주소를 (key, value)의 한 쌍으로 저장

	- 인덱스 == 목차
	- 컬럼 값 == 책 내용
	- 물리적 주소 == 책 페이지

- 책에서 원하는 내용을 찾을 때 목차나 색인을 이용하면 훨씬 빠르게 찾을 수 있듯이 테이블에서 원하는 데이터를 찾기 위해 인덱스를 이용하면 빠르게 찾을 수 있음 

<hr>

## 2. 인덱스의 장단점

### 2.1 인덱스의 장점
- 핵심은 인덱스에 의해 %%데이터들이 정렬된 형태를 갖는다는 것%%
- 테이블을 검색하는 속도와 성능이 향상되어 시스템의 전반적인 부하를 줄임
- 기존엔 데이터를 찾기 위해 테이블 전체를 조건과 비교하는 '풀 테이블 스캔(Full Table Scan)' 작업이 필요했는데, 인덱스를 이용하면 데이터들이 정렬되어 있기 때문에 조건에 맞는 데이터를 빠르게 찾을 수 있음
- MIN/MAX 같은 경우도 이미 정렬이 되어 있기 때문에 빠르게 수행할 수 있음

### 2.2 인덱스의 단점
- 인덱스를 관리하기 위한 추가 작업, 추가 저장 공간 필요
- 잘못 사용하는 경우 오히려 검색 성능 저하
- 인덱스를 항상 정렬된 상태로 유지해야 하기 때문에 인덱스가 적용된 컬럼에 삽입(INSERT), 삭제(DELETE), 수정(UPDATE) 작업을 수행하면 다음과 같은 추가 작업이 필요

	1. INSERT : 새로운 데이터에 대한 인덱스를 추가
	2. DELETE : 삭제하는 데이터의 인덱스를 사용하지 않는다는 작업 수행
	3. UPDATE : 기존의 인덱스를 사용하지 않음 처리, 갱신된 데이터에 대한 인덱스 추가

- 데이터의 수정이 잦은 경우 성능이 낮아짐
- 수정 작업이 많은 경우 실제 데이터에 비해 인덱스가 과도하게 커지는 문제점이 발생 == 추가 저장 공간이 필요
- 데이터의 형식에 따라 오히려 성능이 낮아질 수 있음
	- ex) 나이나 성별과 같이 값의 범위가 적은 컬럼인 경우, 인덱스를 읽고 나서 다시 많은 데이터를 조회해야 하기 때문에 비효율적

<hr>


## 3. 효율적으로 사용할 수 있는 조건

-  데이터의 range가 넓고 중복이 적을수록, 조회가 많거나 정렬된 상태가 유용한 컬럼에 사용하는 것이 좋음
- 조건 예시
	- 규모가 큰 테이블
	- 삽입(INSERT), 수정(UPDATE), 삭제(DELETE) 작업이 자주 발생하지 않는 컬럼
	- WHERE나 ORDER BY, JOIN 등이 자주 사용되는 컬럼
	- 데이터의 중복도가 낮은 컬럼 = 카디널리티가 높은 컬럼
